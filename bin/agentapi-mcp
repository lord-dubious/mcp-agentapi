#!/usr/bin/env python3
"""
AgentAPI MCP - Command Line Interface for the MCP server.

This script provides a command-line interface for the MCP server for Agent API.
It follows the MCP SDK best practices for executable scripts.
"""

import sys
import os
import asyncio
import logging

# Configure logging
logging.basicConfig(
    level=logging.INFO,
    format="%(asctime)s - %(name)s - %(levelname)s - %(message)s",
)
logger = logging.getLogger("agentapi-mcp")

# Add the parent directory to the Python path to find the CLI module
parent_dir = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
if parent_dir not in sys.path:
    sys.path.insert(0, parent_dir)

# Import the CLI module
from src.cli import main as cli_main


def main():
    """
    Main entry point for the agentapi-mcp command.
    This function is called when the user runs the agentapi-mcp command.
    """
    try:
        asyncio.run(cli_main())
    except KeyboardInterrupt:
        logger.info("Interrupted by user")
    except Exception as e:
        logger.error(f"Error running AgentAPI MCP CLI: {e}")
        sys.exit(1)


if __name__ == "__main__":
    main()
