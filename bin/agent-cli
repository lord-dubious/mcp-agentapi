#!/usr/bin/env python3
"""
Agent CLI - Command Line Interface for the MCP server.

This script provides a command-line interface for the MCP server for Agent API.
It follows the MCP SDK best practices for executable scripts.
"""

import sys
import os
import asyncio
import logging

# Configure logging
logging.basicConfig(
    level=logging.INFO,
    format="%(asctime)s - %(name)s - %(levelname)s - %(message)s",
)
logger = logging.getLogger("agent-cli")

# Add the parent directory to the Python path to find the agent controller
parent_dir = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
if parent_dir not in sys.path:
    sys.path.insert(0, parent_dir)

# Import the agent controller
from src.agent_controller import run_cli


def main():
    """
    Main entry point for the agent-cli command.
    This function is called when the user runs the agent-cli command.
    """
    try:
        asyncio.run(run_cli())
    except KeyboardInterrupt:
        logger.info("Interrupted by user")
    except Exception as e:
        logger.error(f"Error running agent CLI: {e}")
        sys.exit(1)


if __name__ == "__main__":
    main()
